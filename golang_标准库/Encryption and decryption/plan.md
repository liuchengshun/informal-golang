# 支持写入redis数据加密和读取解密 UOSP-1992 

## 任务描述

**当前ryze会往redis中写入部分敏感数据:**

* 用户注册时候输入的密码

* admin token

* 用户登录之后，用户的token
***

## 解决方案

1. 创建一个结构体，结构体包含所需要的全部信息 （crypticBody）

2. 使用标准包 "crypto/aes" 和 "crypto/cipher" ，aes进行加密

3. 加密模式为CFB

4. 给结构体写入编码和解码的方法，编码和解码使用aes对称加密算法
***

## 实现细则

### 关于结构体的内容

**明文：**

1. 用户注册的时候输入的密码 string 类型   (password)

2. admin token 类型为string               (adminToken)

3. 用户登录之后，用户的token 类型为 string   (userToken)

**密文：**

1. 用户的注册密码的密文 类型为[]byte (passwordEpt)

2. admin token 的密文 类型为[]byte (adminTokenEpt)

3. 用户登录后的token密文 类型为[]byte (userTokenEpt)

**加解密使用到的参数：（可以在初始化的时候就进行赋值）**

1. 密钥K       (key)

2. 初始向量     (vi)
***

### 关于结构体的方法

**加密方法：**

1. 运行这个方法可以使有效的已存在的明文全部加密成密文

2. 加密后的密文存储在同一结构体的密文字段中

**解密方法**

1. 调用这个方法可以使有效的已存在的密文全部解密成明文

2. 解密成明文然后将这些明文存储在同一结构体的明文字段中
***

### 关于普通函数

**加密函数**

1. 运行这个函数可以将任意字符串进行加密

2. 参数值为明文字符串 (plainText)

3. 返回值为密文字符串 (cipherText)

**解密函数**

1. 运行这个函数可以将任意字符串进行解密

2. 参数值为密文字符串

3. 返回值为明文字符串
